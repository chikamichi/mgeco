@import "utilities/utilities.typography.mixins";


/* ==========================================================================
   # UI
   ========================================================================== */


.o-layout__item {
  text-align: center;
}


// Inuitcss' defaults doesn't always play nice with progressive enhancement.
.o-wrapper {
  padding-right: initial;
  padding-left: initial;
  margin-right: initial;
  margin-left: initial;
  max-width: initial;
}


.c-mgeco {
  position: relative;
  display: flex;
  flex-direction: column;
  padding-top: $spacing;
}


.c-logo {
  position: relative;
  width: 276px;
  max-width: 276px;
  min-width: 276px;
  margin: 0 auto $spacing auto;
  display: block;
  color: white;
}


.c-logo__image {
  /*
  Responsive Image Replacement:
  We want a responsive background image, ie. its height must match its evolving
  width. In order to lock the image's aspect ratio along the height axis, with
  respect to its current, fluid width, one may set a padding-top/bottom value,
  in percentage, equal to the image's fixed aspect ratio. The trick here lies in
  the fact that vertical padding values, when expressed in percentages, are
  always computed using the element container's *width* as the reference.
  */
  padding-top: 129.7101149%; // 358px / 276px for logo_mg.jpg
  width: 100%;
  height: 0;
  text-indent: -9999px;
  background-image: url('/images/logo_mg.jpg');
  background-size: 100%;
  transition: background 0.1s ease-in-out;
}


.c-nav__link {
  text-transform: uppercase;
  color: black;
  font-weight: bold;
  font-size: 1.2em;

  &--active {
    color: $green;
    font-weight: bold;
  }
}


.c-nav--desktop {
  display: none;
}


.c-main-area {
  padding: 0 $spacing/2;
}


.c-main-area__title,
.c-main-area__pretitle,
.c-main-area__subtitle {
  display: block;
  text-transform: uppercase;
  line-height: 1;
}

.o-layout__item.c-main-area {
  text-align: justify;
}

.c-main-area__subtitle {
  color: $green;
}

.c-main-content__picture {
  position: relative;
  display: block;
  width: 100%;
  height: 100px;
  line-height: 100px;
  margin-bottom: 24px;
  overflow: hidden;

  & > img {
    transition: all .2s ease-in-out;
    transform: translateY(-50%);
  }

  &:hover > img {
    transform: translateY(-50%) scale(1.025);
    opacity: 0.8;
  }
}


@include mq($from: tablet) {
  /* Generated with Bounce.js. Edit at https://goo.gl/dtlGoK */
  @keyframes animation {
    0% { transform: matrix3d(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
    2.6% { transform: matrix3d(0.277, 0, 0, 0, 0, 0.277, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
    5.21% { transform: matrix3d(0.485, 0, 0, 0, 0, 0.485, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
    10.31% { transform: matrix3d(0.748, 0, 0, 0, 0, 0.748, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
    15.52% { transform: matrix3d(0.888, 0, 0, 0, 0, 0.888, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
    20.62% { transform: matrix3d(0.954, 0, 0, 0, 0, 0.954, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
    30.93% { transform: matrix3d(0.997, 0, 0, 0, 0, 0.997, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
    41.24% { transform: matrix3d(1.002, 0, 0, 0, 0, 1.002, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
    100% { transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  }


  .o-layout__item {
    text-align: left;
  }


  // Restoring inuitcss' defaults. No mixin available to make it future-proof.
  .o-wrapper {
    padding-right: 24px;
    padding-left: 24px;
    margin-right: auto;
    margin-left: auto;
    max-width: 1200px;
  }


  .c-mgeco {
    // Resetting inuitcss' o-wrapper's horizontal right padding, so as to stay
    // perfectly centered within the browser window.
    padding-right: 0;
    flex-direction: row;
  }


  .c-sidebar {
    width: 276px; // == logo's width
    max-width: 276px;
    min-width: 276px; // flex-basis: auto (default) will pick that one up.
  }


  .c-main-area {
    padding: 0 0 0 2em;
  }


  .c-logo {
    max-width: 100%;
  }


  .c-nav--desktop {
    display: block;

    & > ul {
      padding: 0 $spacing/4;
    }
  }


  .c-logo__image {
    width: 100%;
    max-width: 100%;
  }

  .c-logo__image:hover {
    background-image: url('/images/logo_mg2.jpg');
  }


  .c-main-content__picture {
    border: 1px solid $green;
  }
}
